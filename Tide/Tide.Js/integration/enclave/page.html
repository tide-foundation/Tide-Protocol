<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <iframe id="iframe" src="enclave.html" style="height: 230px; width: 350px"></iframe>
    <script>
      window.addEventListener("message", (e) => console.log("action", e.data), false);
      const model = { pass: "", user: "", ethnicity: "", dateOfBirth: "" };

      const validation = { pass: "required|min:5", user: "required", dateOfBirth: "date" };
      const classification = { ethnicity: "ethnicity", dateOfBirth: "age" };
      const tags = { pass: "__vendor__", user: "__vendor__", ethnicity: "__vendor__", dateOfBirth: "__vendor__" };

      const iframe = document.getElementById("iframe");
      iframe.onload = () => iframe.contentWindow.postMessage({ type: "create", model, validation, classification, tags });
    </script>
  </body>
</html>
